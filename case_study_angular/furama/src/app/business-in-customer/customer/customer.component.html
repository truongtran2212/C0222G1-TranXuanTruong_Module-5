<body>
<!-- list-->
<div class="bg-menu table-dark table text-light font-weight-bold" style="padding-top: 100px">
  <div class="container-fluid body">
    <div class="center container-fluid">
      <h1 style="text-align: center">Danh sách khách hàng</h1>
      <table style="border-collapse:  collapse; width: 100%" id="employeeList">
        <thead>
        <tr>
          <th class="text-center">#</th>
          <th class="text-center">Code</th>
          <th class="text-center">Name</th>
          <th class="text-center">Gender</th>
          <th class="text-center">Id Card</th>
          <th class="text-center">Day Of Birth</th>
          <th class="text-center">Phone</th>
          <th class="text-center">Email</th>
          <th class="text-center">Address</th>
          <th class="text-center">Type Customer</th>
          <th class="text-center">Update</th>
          <th class="text-center">Delete</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let customer of customerList index as i">

          <td>{{i + 1}}</td>
          <td>{{customer.customerCode}}</td>
          <td>{{customer.customerName}}</td>
          <td>

            <span *ngIf="customer.customerGender == 1">Male</span>
            <span *ngIf="customer.customerGender == 0">Female</span>
            <span *ngIf="customer.customerGender == 2">Other</span>

          </td>
          <td>{{customer.customerIdCard}}</td>
          <td>{{customer.customerBirthday | date: 'dd/MM/yyyy'}}</td>
          <td>{{customer.customerPhone}}</td>
          <td>{{customer.customerEmail}}</td>
          <td>{{customer.customerAddress}}</td>
          <td >{{customer.customerType.customerTypeName}}</td>

          <td>
            <a routerLink="/update-customer/{{customer.customerId}}" (click)="update()" class="updateEmployee" data-toggle="modal"
               data-target="#form-update">
              <button class="btn btn-light">Update</button>
            </a>
          </td>
          <td>
            <a style="color: white" href="#"
               (click)="valueOf(customer.customerId, customer.customerName)"
               data-toggle="modal"
               data-target="#delete">
              <button class="btn btn-light">
                Delete
              </button>
            </a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
    <div>
      <button class="btn btn-light">Previous</button>
      <button class="btn btn-light">1</button>
      <button class="btn btn-light">2</button>
      <button class="btn btn-light">...</button>
      <button class="btn btn-light">Next</button>
    </div>

  </div>
</div>

<!-- modal update customer-->

<!--<app-modal-update-customer></app-modal-update-customer>-->
<form [formGroup]="customerFormUpdate" novalidate>
  <div class="modal " id="form-update">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="p-3 bg-modal">
          <h4 style="text-align: center">Chỉnh sửa thông tin khách hàng</h4>

          <div class="form-group">
            <label>Id</label>
            <input class="form-control" type="text" formControlName="id">
          </div>

          <div class="form-group">
            <label>Mã khách hàng</label>
            <input class="form-control" type="text" formControlName="code">
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.code.hasError('required')
        && (customerFormUpdate.controls.code.dirty || customerFormUpdate.controls.code.touched)">
            Input code, pls!!!
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.code.hasError('pattern')
        && (customerFormUpdate.controls.code.dirty || customerFormUpdate.controls.code.touched)">
            Wrong format !!!
          </div>

          <div class="form-group">
            <label>Tên khách hàng</label>
            <input class="form-control" type="text" formControlName="name">
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.name.hasError('required')
        && (customerFormUpdate.controls.name.dirty || customerFormUpdate.controls.name.touched)">
            Input name, pls!!!
          </div>

          <div class="form-group">
            <label>Ngày sinh</label>
            <input class="form-control" type="date" formControlName="dayOfBirth">
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.dayOfBirth.hasError('required')
        && (customerFormUpdate.controls.dayOfBirth.dirty || customerFormUpdate.controls.dayOfBirth.touched)">
            Input day of birth, pls!!!
          </div>

          <div class="form-group">
            <label>Giới tính</label>
            <select formControlName="gender" class="form-control w-100">
              <option value="">----- Vui lòng chọn -----</option>
              <option value="0">Nam</option>
              <option value="1">Nữ</option>
              <option value="2">Khác</option>
            </select>
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.gender.hasError('required')
        && (customerFormUpdate.controls.gender.dirty || customerFormUpdate.controls.gender.touched)">
            Choose gender, pls!!!
          </div>

          <div class="form-group">
            <label>Căn cước công dân</label>
            <input class="form-control" type="text" formControlName="idCard">
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.idCard.hasError('required')
        && (customerFormUpdate.controls.idCard.dirty || customerFormUpdate.controls.idCard.touched)">
            Input Id Card, pls!!!
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.idCard.hasError('pattern')
        && (customerFormUpdate.controls.idCard.dirty || customerFormUpdate.controls.idCard.touched)">
            Wrong format !!!
          </div>

          <div class="form-group">
            <label>Số điện thoại</label>
            <input class="form-control" type="text" formControlName="phone">
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.phone.hasError('required')
        && (customerFormUpdate.controls.phone.dirty || customerFormUpdate.controls.phone.touched)">
            Input phone number, pls!!!
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.phone.hasError('pattern')
        && (customerFormUpdate.controls.phone.dirty || customerFormUpdate.controls.phone.touched)">
            Wrong format!!!
          </div>

          <div class="form-group">
            <label>Email</label>
            <input class="form-control" type="text" formControlName="email">
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.email.hasError('required')
        && (customerFormUpdate.controls.email.dirty || customerFormUpdate.controls.email.touched)">
            Input email, pls!!!
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.email.hasError('email')
        && (customerFormUpdate.controls.email.dirty || customerFormUpdate.controls.email.touched)">
            Wrong format !!!
          </div>

          <div class="form-group">
            <label>Địa chỉ</label>
            <input class="form-control" type="text" formControlName="address">
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.address.hasError('required')
        && (customerFormUpdate.controls.address.dirty || customerFormUpdate.controls.address.touched)">
            Input address, pls!!!
          </div>

          <div class="form-group">
            <label>Kiểu khách hàng</label>
            <select class="form-control w-100" formControlName="typeCustomer">
              <option value="">----- Vui lòng chọn -----</option>
              <option [ngValue]="tc.customerTypeName" *ngFor="let tc of typeCustomerList ">{{tc.customerTypeName}}</option>
            </select>
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.typeCustomer.hasError('required')
        && (customerFormUpdate.controls.typeCustomer.dirty || customerFormUpdate.controls.typeCustomer.touched)">
            Choose type customer, pls!!!
          </div>

          <button class="btn btn-dark" type="submit" (click)="onSubmitUpdate()" [disabled]="customerFormUpdate.invalid" data-dismiss="modal">Update</button>
          &nbsp;
          <button class="btn btn-dark" type="submit" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</form>

<!--                modal create customer-->

<!--<app-modal-create-customer></app-modal-create-customer>-->

<form [formGroup]="customerFormUpdate" novalidate>
  <div class="modal " id="form-create">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="p-3 bg-modal">
          <h4 style="text-align: center">Thêm thông tin khách hàng</h4>

          <div class="form-group">
            <label>Mã khách hàng</label>
            <input class="form-control" type="text" formControlName="code">
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.code.hasError('required')
        && (customerFormUpdate.controls.code.dirty || customerFormUpdate.controls.code.touched)">
            Input code, pls!!!
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.code.hasError('pattern')
        && (customerFormUpdate.controls.code.dirty || customerFormUpdate.controls.code.touched)">
            Wrong format !!!
          </div>

          <div class="form-group">
            <label>Tên khách hàng</label>
            <input class="form-control" type="text" formControlName="name">
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.name.hasError('required')
        && (customerFormUpdate.controls.name.dirty || customerFormUpdate.controls.name.touched)">
            Input name, pls!!!
          </div>

          <div class="form-group">
            <label>Ngày sinh</label>
            <input class="form-control" type="date" formControlName="dayOfBirth">
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.dayOfBirth.hasError('required')
        && (customerFormUpdate.controls.dayOfBirth.dirty || customerFormUpdate.controls.dayOfBirth.touched)">
            Input day of birth, pls!!!
          </div>

          <div class="form-group">
            <label>Giới tính</label>
            <select formControlName="gender" class="form-control w-100">
              <option value="">----- Vui lòng chọn -----</option>
              <option value="0">Nam</option>
              <option value="1">Nữ</option>
              <option value="2">Khác</option>
            </select>
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.gender.hasError('required')
        && (customerFormUpdate.controls.gender.dirty || customerFormUpdate.controls.gender.touched)">
            Choose gender, pls!!!
          </div>

          <div class="form-group">
            <label>Căn cước công dân</label>
            <input class="form-control" type="text" formControlName="idCard">
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.idCard.hasError('required')
        && (customerFormUpdate.controls.idCard.dirty || customerFormUpdate.controls.idCard.touched)">
            Input Id Card, pls!!!
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.idCard.hasError('pattern')
        && (customerFormUpdate.controls.idCard.dirty || customerFormUpdate.controls.idCard.touched)">
            Wrong format !!!
          </div>

          <div class="form-group">
            <label>Số điện thoại</label>
            <input class="form-control" type="text" formControlName="phone">
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.phone.hasError('required')
        && (customerFormUpdate.controls.phone.dirty || customerFormUpdate.controls.phone.touched)">
            Input phone number, pls!!!
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.phone.hasError('pattern')
        && (customerFormUpdate.controls.phone.dirty || customerFormUpdate.controls.phone.touched)">
            Wrong format!!!
          </div>

          <div class="form-group">
            <label>Email</label>
            <input class="form-control" type="text" formControlName="email">
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.email.hasError('required')
        && (customerFormUpdate.controls.email.dirty || customerFormUpdate.controls.email.touched)">
            Input email, pls!!!
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.email.hasError('email')
        && (customerFormUpdate.controls.email.dirty || customerFormUpdate.controls.email.touched)">
            Wrong format !!!
          </div>

          <div class="form-group">
            <label>Địa chỉ</label>
            <input class="form-control" type="text" formControlName="address">
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.address.hasError('required')
        && (customerFormUpdate.controls.address.dirty || customerFormUpdate.controls.address.touched)">
            Input address, pls!!!
          </div>

          <div class="form-group">
            <label>Kiểu khách hàng</label>
            <select class="form-control w-100" formControlName="typeCustomer">
              <option value="">----- Vui lòng chọn -----</option>
              <option [ngValue]="tc.customerTypeId" *ngFor="let tc of typeCustomerList ">{{tc.customerTypeName}}</option>
            </select>
          </div>

          <div class="mb-3 text-danger" *ngIf="customerFormUpdate.controls.typeCustomer.hasError('required')
        && (customerFormUpdate.controls.typeCustomer.dirty || customerFormUpdate.controls.typeCustomer.touched)">
            Choose type customer, pls!!!
          </div>

          <button class="btn btn-dark" type="submit" (click)="onSubmitCreate()" [disabled]="customerFormUpdate.invalid" data-dismiss="modal">Add new</button>
          &nbsp;
          <button class="btn btn-dark" type="submit" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</form>


<!--modal delete-->
<div class="modal" id="delete">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title w-100 text-center" id="name">Bạn có muốn xóa khách hàng tên {{name}} không?</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-dark" data-dismiss="modal" (click)="delete()">
          <a class="text-white">Xóa</a>
        </button>
        <button type="button" class="btn btn-dark " data-dismiss="modal">Hủy</button>
      </div>
    </div>
  </div>
</div>
</body>
